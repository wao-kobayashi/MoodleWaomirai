//教科データを取得
include ../_subject_data.pug


//- script(src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js")
//- script(src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.js")
//- script(src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.8.2/fullcalendar.js")
//- script(src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.8.2/gcal.js")
//- link(rel="stylesheet", type="text/css", href="https://unpkg.com/@fullcalendar/daygrid@4.4.0/main.min.csss")
//- script.
//-   $(document).ready(function() {
//-     //console.log("hello");
//-     $('.calendar').fullCalendar({
//-       // height: 'parent',
//-       googleCalendarApiKey: 'AIzaSyDcnW6WejpTOCffshGDDb4neIrXVUA1EAE',
      
//-       events: {
//-         googleCalendarId: 'en.usa#holiday@group.v.calendar.google.com',
//-         //className: 'gcal-event' // an option!
//-         backgroundColor: '#2E609B',
//-         //color: '#1E508B',   // an option!
//-         textColor: '#f1f1f1', // an option!
//-         borderColor: '#fff'
//-       },
//-       timeFormat: 'h(:mm)t',
      
//-       customButtons: {
//-           print: {
//-               text: 'print',
//-               click: function() {
//-                   DOMPrinter = PrintElem('#app-container');
//-                   DOMPrinter.print();
//-               },
//-             // icon: 'right-double-arrow'
//-           }
//-       },
      
//-       header: {
//-         left:   'title, print',
//-         center: '',
//-         right:  'today prev,next month,agendaWeek,agendaDay, listWeek' //basicWeek,basicDay,
//-       },
//-       views: {
//-           listWeek: {
//-               buttonText: 'weekly agenda'
//-           }
//-       }
      
//-     });
    
//-   });

//- .calendar
//- p|a


// セクション1: 今月の授業
.enrol-section
  h2.enrol-title 2025年4月の授業
  // 各教科の授業情報を表示
  .enrol-section-basesubject-thismonth-lesson
    each subject in subjects[enrolpage.category]
      .enrol-section-basesubject-thismonth-lesson-grid-level
          span.title|レベル
          span.large= subject.level 
          // 対象学年
          span|(
          span= subject.grade 
          span|)
      .enrol-section-basesubject-thismonth-lesson-grid
        // レベル情報を表示


        // 各レッスン情報を表示
        each lesson in subject.lessons
          .enrol-section-basesubject-thismonth-lesson-grid-lesson
            // レッスンの週
            .enrol-section-basesubject-thismonth-lesson-grid-lesson-banner
              img(src=lesson.banner)
            // レッスン説明
            .enrol-section-basesubject-thismonth-lesson-grid-lesson-text= lesson.text 

// セクション2: 年間の授業カリキュラム
.enrol-section
  h2.enrol-title 年間の授業カリキュラム
  .enrol-section-basesubject-year-lesson
    // レベルごとのタブ部分
    .enrol-section-basesubject-year-lesson-tab 
       .enrol-section-basesubject-year-lesson-tab-child.tab-level-1 
          |レベル1
          br.c-pc-hidden
          |(小1~小4)
       .enrol-section-basesubject-year-lesson-tab-child.tab-level-2
          |レベル2
          br.c-pc-hidden
          |(小5~小6)
       .enrol-section-basesubject-year-lesson-tab-child.tab-level-3 
          |レベル3
          br.c-pc-hidden
          |(中学生)
       .enrol-section-basesubject-year-lesson-tab-child.tab-level-4 
          |レベル4
          br.c-pc-hidden
          |(高校生)
    // カリキュラム内容を表示
    .enrol-section-basesubject-year-lesson-content
      //以下はstaticのデータ
      each level, levelName in curriculum[enrolpage.category]
        .enrol-section-basesubject-year-lesson-content-child(class="content-" + levelName, style='display:none;')
          each item in level
            .enrol-section-basesubject-year-lesson-content-child-curriculum
              .enrol-section-basesubject-year-lesson-content-child-curriculum-month
                // 月
                span.month=  item.month
                | 月
              .enrol-section-basesubject-year-lesson-content-child-curriculum-detail
                // カリキュラムのタイトル
                .enrol-section-basesubject-year-lesson-content-child-curriculum-detail-title= item.title 
                .enrol-section-basesubject-year-lesson-content-child-curriculum-detail-subcontent.c-sp-hidden
                  |1.
                  span= item.subcontents1
                .enrol-section-basesubject-year-lesson-content-child-curriculum-detail-subcontent.c-sp-hidden 
                  |2.
                  span= item.subcontents2
                .enrol-section-basesubject-year-lesson-content-child-curriculum-detail-subcontent.c-sp-hidden 
                  |3.
                  span= item.subcontents3
// セクション3: 時間割
.enrol-section
  h2.enrol-title 時間割
  //以下はstaticのデータ
  .enrol-section-basesubject-timetable
    .enrol-section-basesubject-timetable-head
     .enrol-section-basesubject-timetable-head-child
       |
     .enrol-section-basesubject-timetable-head-child.c-sp-hidden
       |日
     .enrol-section-basesubject-timetable-head-child
       |月
     .enrol-section-basesubject-timetable-head-child
       |火
     .enrol-section-basesubject-timetable-head-child
       |水
     .enrol-section-basesubject-timetable-head-child
       |木 
     .enrol-section-basesubject-timetable-head-child
       |金
     .enrol-section-basesubject-timetable-head-child.c-sp-hidden
       |土
    each slot in timeslots[enrolpage.category]
      .enrol-section-basesubject-timetable-content
        .enrol-section-basesubject-timetable-content-child
          .enrol-section-basesubject-timetable-content-child-start= slot.time.split(' - ')[0] 
          .enrol-section-basesubject-timetable-content-child-end= slot.time.split(' - ')[1] 
        
        each daySchedule, index in slot.schedule
          //スマホで土曜と日曜日は非表示
          .enrol-section-basesubject-timetable-content-child(
              class=`${daySchedule.subject ? 'active' : ''} ${index === 0 || index === 6 ? 'c-sp-hidden' : ''}`
          )
            if daySchedule.subject
              .enrol-section-basesubject-timetable-content-child-level
                    |レベル
                    span=daySchedule.level 
              .enrol-section-basesubject-timetable-content-child-grade
                  if daySchedule.level === 1
                    |(小3,4)
                  else if daySchedule.level === 2
                    |(小5,6)
                  else if daySchedule.level === 3
                    |(中学生)
                  else if daySchedule.level === 4
                    |(高校生)  
            else
              span.none
                | -

// セクション4: 年間の開催スケジュール
.enrol-section
  h2.enrol-title 年間の開催スケジュール
  p|ここにgoogleカレンダー

// セクション5: 受講費
.enrol-section.coursedetail-info
  .coursedetail-info-inner
    h2.enrol-title 受講費用

    //----- 授業コース -----
    .box-container
      //----- 受講費用 -----
      .coursedetail-info-fee
        p.coursedetail-info-fee-price
          span.price ¥6,600
          span.small-text /月(税込)

        .coursedetail-info-fee-benefits
          .grid-child ✔︎ 入会金無料
          .grid-child ✔︎ 課題の提出
          .grid-child ✔︎ 前月配信のアーカイブ授業の視聴
          .grid-child ✔︎ いつでも退会可能

// 受講開始までの流れ
+enrol-howto-register

// 他の授業科目も見る
+enrol-recommend-subject


// 必要なスクリプト
