- var existingClasses = "limitedwidth format-site path-my chrome dir-ltr lang-ja_wp yui-skin-sam yui3-skin-sam lms-waomirai-com pagelayout-mydashboard course-1 context-2497 theme uses-drawers drawer-open-index"
- var additionalClasses = SubjectIds.map(id => `course-id-${id}`).join(' ')

body#page-my-index(class=existingClasses + ' ' + additionalClasses)
      .toast-wrapper.mx-auto.py-0.fixed-top(role="status", aria-live="polite")
      #page-wrapper.d-print-block
        div
          a.sr-only.sr-only-focusable(href="#maincontent") ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹
        script(src="https://lms.waomirai.com/lib/javascript.php/1732783105/lib/polyfills/polyfill.js")
        script(src="https://lms.waomirai.com/theme/yui_combo.php?rollup/3.18.1/yui-moodlesimple-min.js")
        script(src="https://lms.waomirai.com/lib/javascript.php/1732783105/lib/javascript-static.js")
        script.
          //<![CDATA[
          document.body.className += ' jsenabled';
          //]]>
        // Google Tag Manager (noscript)
        noscript
          iframe(src="https://www.googletagmanager.com/ns.html?id=GTM-W3X8CG9C", height="0", width="0", style="display:none;visibility:hidden")
        // End Google Tag Manager (noscript)
        //- include ../common/_parts-subject-alert.pug
        include ../common/_parts-global-navigation.pug
        .drawer.drawer-left.drawer-primary.d-print-none.not-initialized(data-region="fixed-drawer", id="theme_boost-drawers-primary", data-state="show-drawer-primary", data-forceopen="0", data-close-on-resize="1")
          .drawerheader
            button.btn.drawertoggle.icon-no-margin.hidden(data-toggler="drawers", data-action="closedrawer", data-target="theme_boost-drawers-primary", data-toggle="tooltip", data-placement="right", title="ãƒ‰ãƒ­ãƒ¯ã‚’é–‰ã˜ã‚‹")
              i.icon.fa.fa-times.fa-fw(aria-hidden="true")
            img.logo.py-1.h-100(src="https://lms.waomirai.com/pluginfile.php/1/tool_tenant/headerlogo/2/%E7%84%A1%E9%A1%8C.png", alt="stg")
            .drawerheadercontent.hidden
          .drawercontent.drag-container(data-usertour="scroller")
            .list-group
              a.list-group-item.list-group-item-action(href="https://lms.waomirai.com/?redirect=0")
                | ãƒ›ãƒ¼ãƒ 
              a.list-group-item.list-group-item-action.active(href="https://lms.waomirai.com/my/", aria-current="true")
                | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
              a.list-group-item.list-group-item-action(href="https://lms.waomirai.com/my/courses.php")
                | ç™»éŒ²æ¸ˆã¿è¬›åº§
              a.list-group-item.list-group-item-action(href="https://lms.waomirai.com/user/profile.php")
                | ãƒã‚¤ãƒšãƒ¼ã‚¸
              a.list-group-item.list-group-item-action(href="https://lms.waomirai.com/user/preferences.php")
                | ãƒ¦ãƒ¼ã‚¶è¨­å®š
            ul.position-absolute.fixed-bottom.navbar-nav.ml-3.tenantswitch
        #page.drawers.drag-container(data-region="mainpage", data-usertour="scroller")
          #topofscroll.main-inner
            .drawer-toggles.d-flex
            header#page-header.header-maxwidth.d-print-none
              .w-100
                .d-flex.flex-wrap
                  .ml-auto.d-flex
                  #course-header
                .d-flex.align-items-center
                  h2.mb-3.mt-3
                    | ã“ã‚“ã«ã¡ã¯ å°æ— ã•ã‚“! ğŸ‘‹
                  .header-actions-container.ml-auto(data-region="header-actions-container")
            #page-content.pb-3.d-print-block
              //- div 
              //-    p|#{title}
              //-    p|#{SubjectIds}
              //- include _parts-dashboard.pug
              #page-content.pb-3.d-print-block
                #region-main-box
                  section#region-main(aria-label='ã‚³ãƒ³ãƒ†ãƒ³ãƒ„')
                    span#user-notifications.notifications
                    #yui_3_18_1_1_1732844965795_24(role='main')
                      span#maincontent
                      aside#block-region-content.block-region(data-blockregion='content' data-droptarget='1')
                        section#inst274.block_html.block.card.mb-3(role='complementary' data-block='html' data-instance-id='274' aria-labelledby='instance-274-header')
                          .card-body.p-3
                            h5#instance-274-header.card-title.d-inline &#x30C6;&#x30AD;&#x30B9;&#x30C8;&#x30D6;&#x30ED;&#x30C3;&#x30AF;
                            .card-text.content.mt-3
                              .no-overflow
                                include _parts-dashboard-textblock.pug
                              .footer
                        a.sr-only.sr-only-focusable(href='#sb-1') &#x30AB;&#x30EC;&#x30F3;&#x30C0;&#x30FC; &#x3092;&#x30B9;&#x30AD;&#x30C3;&#x30D7;&#x3059;&#x308B;
                        section#inst255.block_calendar_month.block.card.mb-3(role='complementary' data-block='calendar_month' data-instance-id='255' aria-labelledby='instance-255-header')
                          #yui_3_18_1_1_1732844965795_23.card-body.p-3
                            h5#instance-255-header.card-title.d-inline &#x30AB;&#x30EC;&#x30F3;&#x30C0;&#x30FC;
                            include _parts-calender-include-event.pug
          div 
            include _parts-modal.pug
          footer#page-footer.footer-popover.bg-white
            div(data-region="footer-container-popover")
              button.btn.btn-icon.bg-secondary.icon-no-margin.btn-footer-popover(data-action="footer-popover", aria-label="ãƒ•ãƒƒã‚¿ã‚’è¡¨ç¤ºã™ã‚‹")
                i.icon.fa.fa-question.fa-fw(aria-hidden="true")
            .footer-content-popover.container(data-region="footer-content-popover")
              .footer-section.p-3.border-bottom
                div
                  a(href="https://lms.waomirai.com/user/contactsitesupport.php")
                    i.icon.fa.fa-envelope-o.fa-fw(aria-hidden="true")
                    a(href="https://go.waomirai.com/contact", target="_blank") ã‚µãƒãƒ¼ãƒˆã«é€£çµ¡
              .footer-section.p-3.border-bottom
                .logininfo
                  .logininfo ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼š
                    a(href="https://lms.waomirai.com/user/profile.php?id=772", title="ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤ºã™ã‚‹") å°æ— è¬™å¤ªéƒ
                    | ã•ã‚“ (
                    a(href="https://lms.waomirai.com/login/logout.php?sesskey=oHzOfm3NB9") ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
                    | )
                div(class="tool_usertours-resettourcontainer")
                br
                p
                  a(href="https://lms.waomirai.com/course/view.php?id=112", target="_blank", style="text-decoration: revert-layer;") ï¼ã‚ˆãã‚ã‚‹ã”è³ªå•ï¼ˆãŠå•ã„åˆã‚ã›ï¼‰
                p
                  a(href="https://waomirai.com/commerce_law", target="_blank", style="text-decoration: revert-layer;") ï¼ç‰¹è¨±å•†å–å¼•æ³•ã«åŸºã¥ãè¡¨è¨˜
                    i.fa-solid.fa-up-right-from-square
                p
                  a(href="https://www.wao-corp.com/privacy/", target="_blank", style="text-decoration: revert-layer;") ï¼ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼
                    i.fa-solid.fa-up-right-from-square
                p
                  a(href="https://go.waomirai.com/terms", target="_blank", style="text-decoration: revert-layer;") ï¼åˆ©ç”¨è¦ç´„
                    i.fa-solid.fa-up-right-from-square
                a(href="https://lms.waomirai.com/?tenant=lmswaomirai")
                  img(src="https://go.waomirai.com/l/1026513/2023-11-16/gddzt/1026513/1700192228BDlbz92f/logo_basic_white.png", width="60%")
                script.
                  //<![CDATA[
                  var require = {
                  baseUrl : 'https://lms.waomirai.com/lib/requirejs.php/1732783105/',
                  // We only support AMD modules with an explicit define() statement.
                  enforceDefine: true,
                  skipDataMain: true,
                  waitSeconds : 0,
                  
                  paths: {
                  jquery: 'https://lms.waomirai.com/lib/javascript.php/1732783105/lib/jquery/jquery-3.7.1.min',
                  jqueryui: 'https://lms.waomirai.com/lib/javascript.php/1732783105/lib/jquery/ui-1.13.2/jquery-ui.min',
                  jqueryprivate: 'https://lms.waomirai.com/lib/javascript.php/1732783105/lib/requirejs/jquery-private'
                  },
                  
                  // Custom jquery config map.
                  map: {
                  // '*' means all modules will get 'jqueryprivate'
                  // for their 'jquery' dependency.
                  '*': { jquery: 'jqueryprivate' },
                  // Stub module for 'process'. This is a workaround for a bug in MathJax (see MDL-60458).
                  '*': { process: 'core/first' },
                  
                  // 'jquery-private' wants the real jQuery module
                  // though. If this line was not here, there would
                  // be an unresolvable cyclic dependency.
                  jqueryprivate: { jquery: 'jquery' }
                  }
                  };
                  
                  //]]>
                script(src="https://lms.waomirai.com/lib/javascript.php/1732783105/lib/requirejs/require.min.js")
                script.
                  //<![CDATA[
                  M.util.js_pending("core/first");
                  require(['core/first'], function() {
                  require(['core/prefetch'])
                  ;
                  M.util.js_pending('filter_mathjaxloader/loader'); require(['filter_mathjaxloader/loader'], function(amd) {amd.configure({"mathjaxconfig":"\nMathJax.Hub.Config({\n    config: [\"Accessible.js\", \"Safe.js\"],\n    errorSettings: { message: [\"!\"] },\n    skipStartupTypeset: true,\n    messageStyle: \"none\"\n});\n","lang":"ja"}); M.util.js_complete('filter_mathjaxloader/loader');});;
                  require(["media_videojs/loader"], function(loader) {
                  loader.setUp('ja');
                  });;
                  
                  require(['jquery', 'core_calendar/month_navigation_drag_drop'], function($, DragDrop) {
                  var root = $('#month-navigation-67490eb928bc267490eb928bc31-1');
                  DragDrop.init(root);
                  });
                  ;
                  
                  require([
                  'jquery',
                  'core_calendar/month_view_drag_drop'
                  ], function(
                  $,
                  DragDrop
                  ) {
                  var root = $('#month-detailed-67490eb928bc267490eb928bc31-1');
                  DragDrop.init(root);
                  });
                  ;
                  
                  require(['jquery', 'core_calendar/calendar', 'core_calendar/popover'], function($, Calendar, calendarPopover) {
                  Calendar.init($("#calendar-month-67490eb928bc267490eb928bc31-1"));
                  });
                  ;
                  M.util.js_pending('core_calendar/popover'); require(['core_calendar/popover'], function(amd) {M.util.js_complete('core_calendar/popover');});;
                  
                  require(['block_myinprogress/main'], function(MyInProgress) {
                  MyInProgress.init();
                  });
                  ;
                  
                  require(['core/moremenu'], function(moremenu) {
                  moremenu(document.querySelector('#moremenu-67490eb9241e2-navbar-nav'));
                  });
                  ;
                  
                  require(['jquery', 'message_popup/notification_popover_controller'], function($, Controller) {
                  var container = $('#nav-notification-popover-container');
                  var controller = new Controller(container);
                  controller.registerEventListeners();
                  controller.registerListNavigationEventListeners();
                  });
                  ;
                  
                  require(['core/usermenu'], function(UserMenu) {
                  UserMenu.init();
                  });
                  ;
                  
                  require(['theme_boost/drawers']);
                  ;
                  
                  require(['theme_boost/footer-popover'], function(FooterPopover) {
                  FooterPopover.init();
                  });
                  ;
                  
                  M.util.js_pending('theme_boost/loader');
                  require(['theme_boost/loader', 'theme_boost/drawer'], function(Loader, Drawer) {
                  Drawer.init();
                  M.util.js_complete('theme_boost/loader');
                  });
                  ;
                  M.util.js_pending('theme_kenai/forcedfooter'); require(['theme_kenai/forcedfooter'], function(amd) {amd.init("<div id=\"forced-footer\">\n    \u00a9\ufe0fWAO CORPORATION\n<\/div>"); M.util.js_complete('theme_kenai/forcedfooter');});;
                  M.util.js_pending('core/notification'); require(['core/notification'], function(amd) {amd.init(2497, []); M.util.js_complete('core/notification');});;
                  M.util.js_pending('core/log'); require(['core/log'], function(amd) {amd.setConfig({"level":"warn"}); M.util.js_complete('core/log');});;
                  M.util.js_pending('core/page_global'); require(['core/page_global'], function(amd) {amd.init(); M.util.js_complete('core/page_global');});;
                  M.util.js_pending('core/utility'); require(['core/utility'], function(amd) {M.util.js_complete('core/utility');});
                  M.util.js_complete("core/first");
                  });
                  //]]>
                script(src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js?delayStartupUntil=configured")
                script.
                  //<![CDATA[
                  M.str = {"moodle":{"lastmodified":"\u6700\u7d42\u66f4\u65b0\u65e5\u6642","name":"\u540d\u79f0","error":"\u30a8\u30e9\u30fc","info":"\u60c5\u5831","yes":"Yes","no":"No","cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","confirm":"\u78ba\u8a8d","areyousure":"\u672c\u5f53\u306b\u3088\u308d\u3057\u3044\u3067\u3059\u304b?","closebuttontitle":"\u9589\u3058\u308b","unknownerror":"\u4e0d\u660e\u306a\u30a8\u30e9\u30fc","file":"\u30d5\u30a1\u30a4\u30eb","url":"URL","collapseall":"\u3059\u3079\u3066\u3092\u6298\u308a\u305f\u305f\u3080","expandall":"\u3059\u3079\u3066\u3092\u5c55\u958b\u3059\u308b"},"repository":{"type":"\u30bf\u30a4\u30d7","size":"\u30b5\u30a4\u30ba","invalidjson":"\u7121\u52b9\u306aJSON\u30b9\u30c8\u30ea\u30f3\u30b0\u3067\u3059\u3002","nofilesattached":"\u6dfb\u4ed8\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3042\u308a\u307e\u305b\u3093\u3002","filepicker":"\u30d5\u30a1\u30a4\u30eb\u30d4\u30c3\u30ab","logout":"\u30ed\u30b0\u30a2\u30a6\u30c8","nofilesavailable":"\u5229\u7528\u3067\u304d\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3042\u308a\u307e\u305b\u3093\u3002","norepositoriesavailable":"\u7533\u3057\u8a33\u3054\u3056\u3044\u307e\u305b\u3093\u3001\u73fe\u5728\u306e\u3042\u306a\u305f\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u306f\u6240\u8981\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8fd4\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002","fileexistsdialogheader":"\u30d5\u30a1\u30a4\u30eb\u767b\u9332\u6e08\u307f","fileexistsdialog_editor":"\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3042\u306a\u305f\u304c\u7de8\u96c6\u3057\u3066\u3044\u308b\u30c6\u30ad\u30b9\u30c8\u306b\u3059\u3067\u306b\u6dfb\u4ed8\u3055\u308c\u3066\u3044\u307e\u3059\u3002","fileexistsdialog_filemanager":"\u540c\u4e00\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3059\u3067\u306b\u6dfb\u4ed8\u3055\u308c\u3066\u3044\u307e\u3059\u3002","renameto":"\u30ea\u30cd\u30fc\u30e0 -> {$a}","referencesexist":"\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u306f {$a} \u4ef6\u306e\u30ea\u30f3\u30af\u304c\u3042\u308a\u307e\u3059\u3002","select":"\u9078\u629e"},"admin":{"confirmdeletecomments":"\u672c\u5f53\u306b\u9078\u629e\u3057\u305f\u30b3\u30e1\u30f3\u30c8\u3092\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b?","confirmation":"\u78ba\u8a8d"},"debug":{"debuginfo":"\u30c7\u30d0\u30c3\u30b0\u60c5\u5831","line":"\u884c","stacktrace":"\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9"},"langconfig":{"labelsep":":"}};
                  //]]>
                script.
                  //<![CDATA[
                  (function() {M.util.help_popups.setup(Y);
                  M.util.js_pending('random67490eb928bc34'); Y.on('domready', function() { M.util.js_complete("init");  M.util.js_complete('random67490eb928bc34'); });
                  })();
                  //]]>
              .footer-section.p-3
                span Powered by
                a(href="https://moodle.com/workplace/", target="_blank")
                  | Moodle Workplace
            .footer-content-debugging.footer-dark.bg-dark.text-light
              .container-fluid.footer-dark-inner
case calender 
 when 'events-none'
   //event-noneã®æ™‚ã¯todayã«ã‚¤ãƒ™ãƒ³ãƒˆå…¥ã‚Œãªã„
 default
  script.
        const dayContentHtml = $(`
            <div data-region="day-content" id="yui_3_18_1_1_1736149007413_191">
                <ul id="yui_3_18_1_1_1736149007413_190">
                    <li data-region="event-item" data-event-component="" data-event-eventtype="course" data-event-folded="false" data-eventtype-course="1" draggable="true" data-drag-type="move" data-min-day-timestamp="1731682800" data-min-day-error="ã‚³ãƒ¼ã‚¹é–‹å§‹æ—¥å‰ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨­å®šã§ãã¾ã›ã‚“" id="yui_3_18_1_1_1736149007413_189">
                        <a data-action="view-event" data-event-id="469" href="https://lms.waomirai.com/course/view.php?id=212&amp;_gl=1*16eh05d*_gcl_au*MTI2NDk3MzM5MC4xNzMyODQxNjgx*_ga*MjA3NzA5ODkzNS4xNzI0MTE5Nzgw*_ga_C5TLB720G3*MTczNjE0ODk5NS4xLjEuMTczNjE0OTAwOS40Ni4wLjA." title="17:30 å“²å­¦Week1" style="background: #FCB72E !important; border-left: #E98800 2px solid !important;" id="yui_3_18_1_1_1736149007413_188">
                            <span class="calendar-circle calendar_event_course"></span>
                            <span class="eventname">17:30 å“²å­¦Week1</span>
                        </a>
                    </li>
                    <li data-region="event-item" data-event-component="" data-event-eventtype="course" data-event-folded="false" data-eventtype-course="1" draggable="true" data-drag-type="move" data-min-day-timestamp="1731682800" data-min-day-error="ã‚³ãƒ¼ã‚¹é–‹å§‹æ—¥å‰ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨­å®šã§ãã¾ã›ã‚“">
                        <a data-action="view-event" data-event-id="466" href="https://lms.waomirai.com/course/view.php?id=211" title="18:30 ç§‘å­¦week1" style="background: #B6D43E !important; border-left: #96B128 2px solid !important;">
                            <span class="calendar-circle calendar_event_course"></span>
                            <span class="eventname">18:30 ç§‘å­¦week1</span>
                        </a>
                    </li>
              
                </ul>
            </div>
        `);

        $(".day").each(function () {
          const $cell = $(this);
          const cellDay = parseInt($cell.attr("data-day"), 10);
          const today = new Date();
          const todayDay = today.getDate();
          
          if (cellDay === todayDay) {
            console.log(`Today matches: ${cellDay}`);
            // .day-number-circleã®ä¸­ã«æ–°ã—ã„HTMLã‚’è¿½åŠ 
            $cell.find('.hidden-phone .day-number-circle').after(dayContentHtml);
          }
        });
